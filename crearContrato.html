<!DOCTYPE>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="es"> <!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
   <meta charset="utf-8" />
   <meta content="width=device-width, initial-scale=1.0" name="viewport" />

   <link rel="stylesheet" type="text/css" href="assets/jquery-ui/jquery-ui-1.10.1.custom.min.css"/>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="fixed-top">
   <!-- BEGIN HEADER -->
   <div id="header" class="navbar navbar-inverse navbar-fixed-top">

   </div>
   <!-- END HEADER -->
   <!-- BEGIN CONTAINER -->
   <div id="container" class="row-fluid">
      <!-- BEGIN PAGE -->  
      
            <!-- BEGIN PAGE CONTENT-->
            <div class="row-fluid">
              <form id='frmCrearContrato' class="form-horizontal">
                <div class="control-group">
                    <label class="control-label">Nombre</label>
                    <div class="controls">
                        <input type="text" placeholder="Nombre del Contrato" class="input-large" id='txtContrato_Nombre' required/>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Descripción</label>
                    <div class="controls">
                        <textarea class="input-xxlarge" placeholder='Descripción larga del Contrato' rows="3" id='txtContrato_Descripcion'></textarea>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Fecha de Inicio: </label>
                    <div class="controls">
                        <div class="input-append" id="grpContratoFechaInicio">
                          
                            <input type="text" class="m-wrap medium" id='txtContrato_FechaInicio' required/>
                            <span class="add-on"><i class="icon-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Fecha de Terminación: </label>
                    <div class="controls">
                        <div class="input-append" id="grpContratoFechaTerminacion">
                          
                            <input type="text" class="m-wrap medium" id='txtContrato_FechaTerminacion'/>
                            <span class="add-on"><i class="icon-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Valor del Contrato</label>
                    <div class="controls">
                       <div class="input-prepend">
                          <span class="add-on">$</span><input class=" " type="text" placeholder="Valor del Contrato"  id='txtContrato_Valor'/>
                       </div>
                    </div>
                 </div>
                 <div class="control-group">
                    <label class="control-label">Objeto del Contrato</label>
                    <div class="controls">
                        <textarea class="input-xxlarge" placeholder='Objeto del Contrato' rows="3" id='txtContrato_Objeto' required></textarea>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Responsabilidades del Contrato</label>
                    <div class="controls">
                        <textarea class="input-xxlarge" placeholder='Responsabilidades del Contrato' rows="3" id='txtContrato_Responsabilidades'></textarea>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">Contratante</label>
                    <div class="controls">
                       <div class="input-prepend">
                          <span class="add-on  icon-hand-right"></span><input class="input-large" type="text" placeholder="Contratante" id='txtContrato_Contratante' required />
                       </div>
                    </div>
                 </div>
                 <div class="control-group">
                    <label class="control-label">Contratista</label>
                    <div class="controls">
                       <div class="input-prepend">
                          <span class="add-on icon-hand-left"></span><input class="input-large" type="text" placeholder="Contratista" id='txtContrato_Contratista' required />
                       </div>
                    </div>
                 </div>
                  <div class="form-actions">
                      <button type="submit" class="btn btn-success"><i class="icon-ok"></i> Guardar</button>
                      <button type="reset" class="btn btn-danger"><i class=" icon-remove"></i> Cancelar</button>
                  </div>
              </form>
            </div>

            <!-- END PAGE CONTENT-->         
         
      <!-- END PAGE -->  
   </div>
   <!-- END CONTAINER -->
   <!-- BEGIN JAVASCRIPTS -->    
   <!-- Load javascripts at bottom, this will reduce page load time -->
   <!-- ie8 fixes -->
   <!--[if lt IE 9]>
   <script src="js/excanvas.js"></script>
   <script src="js/respond.js"></script>
   <![endif]-->
   <script src="assets/jquery-ui/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>
   <script src="js/ui-jqueryui.js"></script>
   
   <script>
      jQuery(document).ready(function() {       
         // initiate layout and plugins
         
          $("#grpContratoFechaInicio input, #grpContratoFechaTerminacion input").datepicker(
          {
            changeMonth: true,
            changeYear: true
          });

          $("#grpContratoFechaInicio .add-on").on("click", function()
          {
            $("#grpContratoFechaInicio input").datepicker("show");
          });
          $("#grpContratoFechaTerminacion .add-on").on("click", function()
          {
            $("#grpContratoFechaTerminacion input").datepicker("show");
          });

          $("#frmCrearContrato").on("submit", function(evento)
            {
              evento.preventDefault();
              $.post("php/crearContrato.php",
              {
                nombre : $('#txtContrato_Nombre').val(),
                descripcion : $('#txtContrato_Descripcion').val(),
                fechaInicio : $('#txtContrato_FechaInicio').val(),
                fechaTerminacion : $('#txtContrato_FechaTerminacion').val(),
                valor : $('#txtContrato_Valor').val(),
                objeto : $('#txtContrato_Objeto').val(),
                responsabilidades : $('#txtContrato_Responsabilidades').val(),
                contratante : $('#txtContrato_Contratante').val(),
                contratista : $('#txtContrato_Contratista').val()
              }, function(data, textStatus, xhr)
              {
                if (data == 1)
                {
                  Mensaje("Ok", "El contrato ha sido almacenado.");    
                } else
                {
                  Mensaje("Error", data);    
                }
              }).always(function() 
              {
                //Cuando Finaliza
              }).fail(function() {
                Mensaje("Error", "No fue posible almacenar el contrato, por favor intenta nuevamente.");
              });
              
            });
      });
   </script>
   <!-- END JAVASCRIPTS -->   
</body>
<!-- END BODY -->
</html>